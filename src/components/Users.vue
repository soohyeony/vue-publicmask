<template>
    <div class="container">
    <h3>ì½”ë¡œë‚˜19 ê³µì  ë§ˆìŠ¤í¬ğŸ˜· ì¬ê³ í˜„í™©</h3>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">ì•½êµ­ëª…</th>
          <th scope="col">ìƒì„¸ì£¼ì†Œ</th>
          <th scope="col">ì¬ê³ í˜„í™©</th>
          <th scope="col">ì…ê³ ì‹œê°„</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="store in stores" v-bind:key="store.id"> 
          <th scope="row">{{store.name}}</th>
          <td>{{store.addr}}</td>
          <td>{{store.remain_stat}}</td>
          <td>{{store.stock_at}}</td>
        </tr>
      </tbody>
    </table> 
  </div> 
</template>

<script>
//5. Create an API call : ë°ì´í„°ë¥¼ ë°›ê¸° ìœ„í•´ì„œ axiosë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•¨
//5-1. yarnì„ ì´ìš©í•˜ì—¬ axiosë¥¼ ì„¤ì¹˜ í›„ import
//yarn add axios
import axios from 'axios';

//5-2. data() :storesë¥¼ nullë¡œ ì„¤ì •í•´ë‘” ë‹¤ìŒ, api ì‘ë‹µìœ¼ë¡œë¶€í„° ë°›ì€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸°ìœ„í•œ ë³€ìˆ˜
// created: apië¥¼ í˜¸ì¶œí•˜ê¸°ìœ„í•œ(API call) axiosì˜ get ë©”ì†Œë“œ 
export default {
    name: 'Users',
    data(){
        return {
            stores: null,
        };
    },
    created: function(){
        const API_URL = 'https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByAddr/json';
        axios
        .get(`${API_URL}`)
        .then(response => {
            console.log(response.data.stores);
            this.stores = response.data.stores;
        })
    }
}
</script>

<style>
    h3 {
        margin-bottom: 5%;
    }
</style>